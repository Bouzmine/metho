<ion-modal-view>
    <ion-header-bar class="bar-stable">
        <button class="button button-positive icon ion-ios-close-empty button-clear" ng-click="closeModal()">
        </button>
        <h1 class="title">Nouvelle source</h1>
        <button class="button button-positive button-clear" ng-click="submitSource()">Créer</button>
    </ion-header-bar>
    <ion-content scrollbar-y="true" has-bouncing="true">
        <form ng-submit="submitSource()" ng-keyup="$event.keyCode == 13 && submitSource()">
                <!-- Choisir le type de la source -->
                <label class="item item-input item-select">
                    <div class="input-label smallest">
                        Type de source
                    </div>
                    <select ng-model="newsource.type">
                        <option selected value="book">Livre</option>
                        <option value="article">Article de périodique</option>
                        <option value="internet">Site Internet</option>
                        <option value="cd">Cédérom (CD-ROM)</option>
                        <option value="movie">Document audiovisuel</option>
                        <option value="interview">Entrevue</option>
                    </select>
                </label>
                <!-- Livre -->
                <div ng-slide-down="newsource.type == 'book'" lazy-render>
                    <ion-list class="isolated">
                        <ion-radio ng-model="newsource.hasAuthors" ng-value="'13'">La source a de 1 à 3 auteurs</ion-radio>
                        <ion-radio ng-model="newsource.hasAuthors" ng-value="'more3'">La source a plus de trois auteurs</ion-radio>
                        <ion-radio ng-model="newsource.hasAuthors" ng-value="'collective'">La source est un collectif</ion-radio>
                    </ion-list>
                    <!-- La source a de 1 à 3 auteurs -->
                    <div ng-slide-down="newsource.hasAuthors == '13'" lazy-render duration="0.5">
                        <table class="table100">
                            <tbody>
                                <tr>
                                    <td>
                                        <input type="text" ng-model="newsource.author1firstname" placeholder="Prénom">
                                    </td>
                                    <td>
                                        <input type="text" ng-model="newsource.author1lastname" placeholder="Nom">
                                    </td>
                                </tr>
                                <tr ng-if="(newsource.author1firstname != null && newsource.author1firstname != '') || (newsource.author1lastname != null && newsource.author1lastname != '')">
                                    <td>
                                        <input type="text" placeholder="Prénom" ng-model="newsource.author2firstname">
                                    </td>
                                    <td>
                                        <input type="text" placeholder="Nom" ng-model="newsource.author2lastname">
                                    </td>
                                </tr>
                                <tr ng-if="(newsource.author2firstname != null && newsource.author2firstname != '') || (newsource.author2lastname != null && newsource.author2lastname != '')">
                                    <td>
                                        <input type="text" placeholder="Prénom" ng-model="newsource.author3firstname">
                                    </td>
                                    <td>
                                        <input type="text" placeholder="Nom" ng-model="newsource.author3lastname">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- La source a plus de 3 auteurs -->
                    <div ng-slide-down="newsource.hasAuthors == 'more3'" lazy-render duration="0.5">
                        <label class="item"><span class="input-label">Entrer le nom des deux premiers auteurs :</span></label>
                        <table class="table100">
                            <tbody>
                                <tr>
                                    <td>
                                        <input type="text" ng-model="newsource.author1firstname" placeholder="Prénom">
                                    </td>
                                    <td>
                                        <input type="text" ng-model="newsource.author1lastname" placeholder="Nom">
                                    </td>
                                </tr>
                                <tr ng-if="(newsource.author1firstname != null && newsource.author1firstname != '') || (newsource.author1lastname != null && newsource.author1lastname != '')">
                                    <td>
                                        <input type="text" placeholder="Prénom" ng-model="newsource.author2firstname">
                                    </td>
                                    <td>
                                        <input type="text" placeholder="Nom" ng-model="newsource.author2lastname">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- La source est un collectif -->
                    <div ng-slide-down="newsource.hasAuthors == 'collective'" lazy-render duration="0.5">
                        <label class="item"><span class="input-label">Entrer le nom du ou des directeurs (s'il y a lieu) :</span></label>
                        <table class="table100">
                            <tbody>
                                <tr>
                                    <td>
                                        <input type="text" ng-model="newsource.author1firstname" placeholder="Prénom">
                                    </td>
                                    <td>
                                        <input type="text" ng-model="newsource.author1lastname" placeholder="Nom">
                                    </td>
                                </tr>
                                <tr ng-if="(newsource.author1firstname != null && newsource.author1firstname != '') || (newsource.author1lastname != null && newsource.author1lastname != '')">
                                    <td>
                                        <input type="text" placeholder="Prénom" ng-model="newsource.author2firstname">
                                    </td>
                                    <td>
                                        <input type="text" placeholder="Nom" ng-model="newsource.author2lastname">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Autres champs -->
                    <div class="list black-top">
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Titre du livre</span>
                            <input type="text" placeholder="La revanche des chérubins" ng-model="newsource.title">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Éditeur</span>
                            <input type="text" placeholder="Québec Amérique" ng-model="newsource.editor">
                        </label>
                        <label class="item item-input item-stacked-label item-button-left">
                            <span class="input-label">Date de publication</span>
                            <input type="text" placeholder="2010" ng-model="newsource.publicationDate">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Lieu de publication</span>
                            <input type="text" placeholder="Montréal" ng-model="newsource.publicationLocation">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label">Nombre de pages</span>
                            <input type="number" placeholder="341" ng-model="newsource.pageNumber" min="1" max="15000">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label dimmed-75">Numéro de l'édition</span>
                            <input type="number" placeholder="3" ng-model="newsource.editionNumber" min="1">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label dimmed-75">Numéro du volume</span>
                            <input type="number" placeholder="2" ng-model="newsource.volumeNumber" min="1">
                        </label>
                        <label class="item item-input item-stacked-label">
                            <span class="input-label dimmed-75">Collection</span>
                            <input type="text" placeholder="Presses HEC" ng-model="newsource.collection">
                        </label>
                        <ion-checkbox ng-model="newsource.hasBeenTranslated">Le livre a été traduit.</ion-checkbox>
                        <div ng-slide-down="newsource.hasBeenTranslated" lazy-render>
                            <label class="item item-input item-stacked-label">
                                <span class="input-label">Langue d'origine</span>
                                <input type="text" placeholder="Anglais" ng-model="newsource.translatedFrom">
                            </label>
                            <label class="item" ng-if="newsource.hasBeenTranslated"><span class="input-label">Nom des traducteurs :</span></label>
                            <table ng-if="newsource.hasBeenTranslated" class="table100">
                                <tbody>
                                    <tr>
                                        <td>
                                            <input type="text" ng-model="newsource.translator1firstname" placeholder="Prénom">
                                        </td>
                                        <td>
                                            <input type="text" ng-model="newsource.translator1lastname" placeholder="Nom">
                                        </td>
                                    </tr>
                                    <tr ng-if="(newsource.translator1firstname != null && newsource.translator1firstname != '') || (newsource.translator1lastname != null && newsource.translator1lastname != '')">
                                        <td>
                                            <input type="text" placeholder="Prénom" ng-model="newsource.translator2firstname">
                                        </td>
                                        <td>
                                            <input type="text" placeholder="Nom" ng-model="newsource.translator2lastname">
                                        </td>
                                    </tr>
                                    <tr ng-if="(newsource.translator2firstname != null && newsource.translator2firstname != '') || (newsource.translator2lastname != null && newsource.translator2lastname != '')">
                                        <td>
                                            <input type="text" placeholder="Prénom" ng-model="newsource.translator3firstname">
                                        </td>
                                        <td>
                                            <input type="text" placeholder="Nom" ng-model="newsource.translator3lastname">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- Article -->
                <div ng-slide-down="newsource.type == 'article'" lazy-render>
                    <!-- Auteur -->
                    <label class="item">
                        <span class="input-label">Auteur</span>
                    </label>
                    <table class="table100">
                        <tbody>
                            <tr>
                                <td>
                                    <input type="text" placeholder="Prénom" ng-model="newsource.author1firstname">
                                </td>
                                <td>
                                    <input type="text" placeholder="Nom" ng-model="newsource.author1lastname">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- Nom de l'article -->
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Titre du l'article</span>
                        <input type="text" placeholder="Haïti, la lente reconstruction" ng-model="newsource.title">
                    </label>

                    <!-- Nom du périodique -->
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Nom du périodique</span>
                        <input type="text" placeholder="Le Devoir" ng-model="newsource.editor">
                    </label>

                    <!-- Numéro de l'édition, du volume ou du périodique -->
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Numéro de l'édition, du volume ou du périodique</span>
                        <input type="text" placeholder="vol. 36, no 5" ng-model="newsource.editionNumber">
                    </label>

                    <!-- Date de publication -->
                    <label class="item item-input item-stacked-label">
                        <span class="input-label">Date de publication</span>
                        <input type="date" placeholder="21 mars 2009" ng-model="newsource.publicationDate">
                    </label>

                    <!-- Indication des pages de l'article -->
                    <label class="item">
                        <span class="input-label">Indication des pages de l'article</span>
                    </label>
                    <table class="table100">
                        <tbody>
                            <tr>
                                <td>
                                    <input type="number" placeholder="Début" ng-model="newsource.startPage">
                                </td>
                                <td>
                                    <input type="number" placeholder="Fin" ng-model="newsource.endPage">
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
                <!-- Site web -->
                <div ng-slide-down="newsource.type == 'internet'" lazy-render>

                </div>
                <!-- CD -->
                <div ng-slide-down="newsource.type == 'cd'" lazy-render>

                </div>
                <!-- Vidéo -->
                <div ng-slide-down="newsource.type == 'movie'" lazy-render>

                </div>
                <!-- Entrevue -->
                <div ng-slide-down="newsource.type == 'interview'" lazy-render>

                </div>
        </form>
        <!-- <p ng-bind="newsource.publicationDate">

        </p> -->
    </ion-content>
</ion-modal-view>
